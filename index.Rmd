<center><img src="https://github.com/DACSS-CSSmeths/guidelines/blob/main/pics/small_logo_ccs_meths.jpg?raw=true" width="700"/></center>

Homework 2
Nat Rabb
January 3, 2026

------------------------------------------------------------------------

## Setup

Set working directory

```{r}
# setwd(dirname(rstudioapi::getSourceEditorContext()$path))
```

Set seed

```{r}
set.seed(1111)
```

Load libraries

```{r}
library("igraph")
library("ggplot2")
library("ggraph")
```

Read local file

```{r}
actors <- read_graph("hollywood.graphml",format='graphml')
```

Inspect variables

```{r}
summary(actors)
```

Plot network

```{r}
ggraph(graph = actors) +
  geom_edge_link(
    aes(label = weight), # Use weight for both label and width
    alpha = 0.5,
    label_size = 2.5,
    angle_calc = 'along' # Optional: Draws the label along the edge line
  ) +
  geom_node_text(
    aes(label = name, color = as.factor(wonOscar)),
    repel = TRUE
  ) +
  scale_color_manual(values = c('red', 'blue')) +
  theme_graph()
```

# Tasks

## 1. Re read the graph from GitHub (cloud)

```{r}
link <- 'https://github.com/NRDACSS690C/Homework_2/blob/c8f46e5e9282d001c948174b49093a0f54447dbc/hollywood.graphml'
actors <- read_graph("hollywood.graphml",format='graphml')  
```

## 2. Compute node central measures: eigen_centrality, closeness, betweenness.

```{r}
eigen <- eigen_centrality(actors)$vector

close <- closeness(actors,normalized=T)

betw <- betweenness(actors,normalized=T)

DFCentrality <- as.data.frame(cbind(eigen,close,betw),stringsAsFactors = F)
names(DFCentrality) <- c('Eigenvector','Closeness','Betweenness')

DFCentrality$person <- row.names(DFCentrality)
row.names(DFCentrality)=NULL

## View 
head(DFCentrality)
```


## 3. Prepare a correlation plot with previous measures, and comment the result.

```{r}
ggplot(DFCentrality, aes(x=Betweenness, y=Closeness)) + 
    theme_classic() +
    geom_text(aes(label=person,size=Eigenvector),show.legend = T,alpha=0.5) 
```

The plot above shows that Tom Hanks has both the highest closeness and highest betweenness, meaning he tends to have the shortest distance to every other nodes in this network and is most important in linking all the other nodes to each other, respectively. Interestingly, he does *not* have the highest eigenvector value, meaning he is not necessarily connected to the most influential additional nodes. That designation is jointly shared by Al Pacino and Robert DeNiro, who both show an eigenvector of 1--but betweenness values of 0 for both. In other words, Pacino and DeNiro exert high influence on this network, but it is downstream influence, if you will, rather than direct-connection influence. 

## 4. Answer: Is it possible communities are present? Support your answer with computations.

To answer this, we first compute a random network.

```{r}
RandomNet <- sample_gnp(length(V(actors)),p=edge_density(actors))
```

Then we get the transitivity rate of the current network, a quantitative measure of the likelihood that two nodes with a common connection are in turn connected. This measure divided by the transitivity of a random network is interpreted to indicate the presences of communities if higher than one. 

```{r}
transitivity(actors)/transitivity(RandomNet)
```


## 5. If the presence of communities is possible, compute the communities using Girvan-Newman and Louvain algorithms. Plot the best result.

The presences of communities is not supported by the ratio of network transitivity to transitivity of a random network. 

